<h1>Attendance Stats</h1>

<table class="table table-striped table-bordered table-hover table-condensed">
  <thead>
  	<tr>
  	  <th>Name</th>
  	  <th>Total</th>
  	  <% @time_slots.each do |time_slot| %>
  	  	<th><%= time_slot.name %></th>
  	  <% end %>	
  	</tr>
  </thead>
  <tbody>
  <% @contacts.each do |contact| %>
  	<tr>
  	  <td><%= contact.padma_id %></td>
  	  <td><%= contact.attendance_total || 0 %></td>	
  	  <% @time_slots.each do |time_slot| %>
  	  	<td><%= number_to_percentage contact.attendance_total > 0 ? contact.send("sum_time_slot_#{time_slot.id}")/contact.attendance_total.to_f*100 : 0, :precision => 2, :strip_insignificant_zeros => true %></td>
  	  <% end %>	
  	</tr>
  <% end %>
  </tbody>
</table>